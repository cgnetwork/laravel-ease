var VueSidebarMenu=function(e,t){"use strict";var n=t.ref(!1),o=t.ref(null),i=t.ref(null),r=t.reactive({top:0,height:0,padding:"",maxHeight:0,maxWidth:0}),l=t.ref(null),a=t.ref(window.location.pathname+window.location.search+window.location.hash);function u(e,u){var c=t.computed((function(){return n.value?e.widthCollapsed:e.width})),s=t.computed((function(){return[n.value?"vsm_collapsed":"vsm_expanded",e.theme?"vsm_".concat(e.theme):"",e.rtl?"vsm_rtl":"",e.relative?"vsm_relative":""]})),d=t.computed((function(){return[{position:"absolute"},{top:"".concat(r.top+r.height,"px")},e.rtl?{right:e.widthCollapsed}:{left:e.widthCollapsed},{width:"".concat(r.maxWidth,"px")},{"max-height":"".concat(r.maxHeight,"px")},{"overflow-y":"auto"}]})),m=t.computed((function(){return[{position:"absolute"},{top:"".concat(r.top,"px")},e.rtl?{right:e.widthCollapsed}:{left:e.widthCollapsed},{width:"".concat(r.maxWidth,"px")},{height:"".concat(r.height,"px")},{"padding-right":"".concat(r.padding)},{"padding-left":"".concat(r.padding)},{"z-index":"20"}]})),p=t.computed((function(){return[{position:"absolute"},{top:"".concat(r.top,"px")},e.rtl?{right:"0px"}:{left:"0px"},{width:"".concat(r.maxWidth+parseInt(e.widthCollapsed),"px")},{height:"".concat(r.height,"px")},{"z-index":"10"}]})),v=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;i.value&&(l.value&&clearTimeout(l.value),e?i.value=null:l.value=setTimeout((function(){i.value=null}),t))};return{sidebarMenuRef:o,isCollapsed:n,sidebarWidth:c,sidebarClass:s,currentRoute:a,onToggleClick:function(){v(),n.value=!n.value,u.emit("update:collapsed",n.value)},onItemClick:function(e,t){u.emit("item-click",e,t)},onRouteChange:function(){a.value=window.location.pathname+window.location.search+window.location.hash},mobileItem:i,mobileItemStyle:m,mobileItemDropdownStyle:d,mobileItemBackgroundStyle:p,setMobileItem:function(t){var n=t.item,a=t.itemEl;l.value&&clearTimeout(l.value);var u,c,s=a.children[0],d=s.getBoundingClientRect(),m=d.top,p=d.bottom,v=d.height,f=o.value.getBoundingClientRect(),h=f.left,g=f.right,b=s.offsetParent.getBoundingClientRect().top,k=0,C=0,y=parseInt(e.width)-parseInt(e.widthCollapsed);if(e.relative){var w=o.value.parentElement;u=w.clientHeight,c=w.clientWidth,k=w.getBoundingClientRect().top,C=e.rtl?c-(w.getBoundingClientRect().right-h):w.getBoundingClientRect().right-g}else u=window.innerHeight,c=window.innerWidth,C=e.rtl?c-(c-h):c-g;i.value=n,r.top=m-b,r.height=v,r.padding=window.getComputedStyle(s).paddingRight,r.maxWidth=C<=y?C:y,r.maxHeight=u-(p-k)},unsetMobileItem:v,mobileItemTimeout:l}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e,t){var n=e.matched,o=n.length,i=n[o-1],r=t.matched;if(!i||!r.length)return-1;var l=r.findIndex(p.bind(null,i));if(l>-1)return l;var a=m(n[o-2]);return o>1&&m(i)===a&&r[r.length-1].path!==a?r.findIndex(p.bind(null,n[o-2])):l}function m(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function p(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function v(e,t){return Array.isArray(e)?f(e,t):Array.isArray(t)?f(t,e):e===t}function f(e,t){return Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return e===t[n]})):1===e.length&&e[0]===t}var h=t.ref(null);function g(e){var n=t.getCurrentInstance().appContext.config.globalProperties.$router,o=t.inject("vsm-props"),i=t.inject("emitItemClick"),r=t.inject("emitScrollUpdate"),l=u(o),a=l.isCollapsed,m=l.currentRoute,p=l.mobileItem,f=l.setMobileItem,g=l.unsetMobileItem,b=l.mobileItemTimeout,k=t.ref(!1),C=t.ref(!1),y=t.computed((function(){return B(e.item)||x(e.item.child)})),w=t.computed((function(){return B(e.item)})),B=function(e){if(!e.href||e.external)return!1;if(n){var t=n.resolve(e.href),o=n.currentRoute.value;return d(t,o)>-1&&d(t,o)===o.matched.length-1&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!v(e[n],t[n]))return!1;return!0}(o.params,t.params)}return e.href===m.value},x=function e(t){return!!t&&t.some((function(t){return B(t)||e(t.child)}))},S=function(t,n){I.value||a.value&&O.value&&setTimeout((function(){p.value!==e.item&&(f({item:e.item,itemEl:n}),M.value=!0),"click"!==t.type||L.value||g(!1)}),0)},M=t.computed({get:function(){return!!L.value&&(a.value&&O.value?I.value:!!o.showChild||(o.showOneChild&&O.value?e.item===h.value:k.value))},set:function(t){o.showOneChild&&O.value&&(h.value=t?e.item:null),k.value=t}}),I=t.computed((function(){return a.value&&O.value?e.item===p.value:C.value})),O=t.computed((function(){return 1===e.level})),E=t.computed((function(){return a.value?!(!e.item.hidden||void 0!==e.item.hiddenOnCollapse)||!0===e.item.hiddenOnCollapse:!0===e.item.hidden})),L=t.computed((function(){return!!(e.item.child&&e.item.child.length>0)})),_=t.computed((function(){return["vsm--link","vsm--link_level-".concat(e.level),{"vsm--link_mobile":A.value},{"vsm--link_hover":I.value},{"vsm--link_active":y.value},{"vsm--link_disabled":e.item.disabled},{"vsm--link_open":M.value},e.item.class]})),N=t.computed((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({href:e.item.href?e.item.href:"#",target:e.item.external?"_blank":"_self",tabindex:e.item.disabled?-1:null,"aria-current":w.value?"page":null,"aria-haspopup":!!L.value||null,"aria-expanded":!!M.value||null},e.item.attributes)})),R=t.computed((function(){return["vsm--item",{"vsm--item_mobile":A.value}]})),A=t.computed((function(){return a.value&&O.value&&I.value}));return{active:y,exactActive:w,activeShow:h,show:M,hover:I,isFirstLevel:O,isHidden:E,hasChild:L,linkClass:_,linkAttrs:N,itemClass:R,isMobileItem:A,onLinkClick:function(t){if(e.item.href&&!e.item.disabled||(t.preventDefault(),!e.item.disabled)){if(S(t,t.currentTarget.parentElement),L.value||!o.showChild){if(a.value&&O.value)return;e.item.href&&!y.value||(M.value=!M.value)}i(t,e.item)}},onMouseOver:function(t){e.item.disabled||(t.stopPropagation(),C.value=!0)},onMouseOut:function(e){e.stopPropagation(),C.value=!1},onMouseEnter:function(t){e.item.disabled||o.disableHover||(b.value&&clearTimeout(b.value),S(t,t.currentTarget))},onMouseLeave:function(){var e;o.disableHover||(e=300),g(!1,e)},onExpandEnter:function(e){e.style.height=e.scrollHeight+"px"},onExpandAfterEnter:function(e){e.style.height="auto",a.value||r()},onExpandBeforeLeave:function(e){a.value&&O.value?e.style.display="none":e.style.height=e.scrollHeight+"px"},onExpandAfterLeave:function(){a.value||r()}}}var b={name:"SidebarMenuLink",inheritAttrs:!1,props:{item:{type:Object,required:!0}},computed:{isHyperLink:function(){return!(this.item.href&&!this.item.external)}}};b.render=function(e,n,o,i,r,l){var a=t.resolveComponent("router-link");return l.isHyperLink?(t.openBlock(),t.createBlock("a",t.mergeProps({key:0},e.$attrs),[t.renderSlot(e.$slots,"default")],16)):(t.openBlock(),t.createBlock(a,{key:1,custom:"",to:e.$attrs.href},{default:t.withCtx((function(n){var o=n.href,i=n.navigate;return[t.createVNode("a",t.mergeProps(e.$attrs,{href:o,onClick:i}),[t.renderSlot(e.$slots,"default")],16,["href","onClick"])]})),_:3},8,["to"]))},b.__file="src/components/SidebarMenuLink.vue";var k={name:"SidebarMenuIcon",props:{icon:{type:[String,Object],default:""}}};k.render=function(e,n,o,i,r,l){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.icon.element?o.icon.element:"i"),t.mergeProps({class:["vsm--icon","string"==typeof o.icon||o.icon instanceof String?o.icon:o.icon.class],"aria-hidden":"true"},o.icon.attributes),{default:t.withCtx((function(){return[t.createTextVNode(t.toDisplayString(o.icon.text),1)]})),_:1},16,["class"])},k.__file="src/components/SidebarMenuIcon.vue";var C={name:"SidebarMenuBadge",props:{badge:{type:Object,default:function(){}}}};C.render=function(e,n,o,i,r,l){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.badge.element?o.badge.element:"span"),t.mergeProps({class:["vsm--badge",o.badge.class]},o.badge.attributes),{default:t.withCtx((function(){return[t.createTextVNode(t.toDisplayString(o.badge.text),1)]})),_:1},16,["class"])},C.__file="src/components/SidebarMenuBadge.vue";var y={name:"SidebarMenuItem",components:{SidebarMenuLink:b,SidebarMenuIcon:k,SidebarMenuBadge:C},props:{item:{type:Object,required:!0},level:{type:Number,default:1}},setup:function(e){var n=t.inject("vsm-props"),o=u(n),i=o.isCollapsed,r=o.mobileItemStyle,l=o.mobileItemDropdownStyle,a=o.mobileItemBackgroundStyle,c=t.toRefs(n).linkComponentName,s=g(e),d=s.active,m=s.exactActive,p=s.show,v=s.hover,f=s.isFirstLevel,h=s.isHidden,b=s.hasChild,k=s.linkClass,C=s.linkAttrs,y=s.itemClass,w=s.isMobileItem,B=s.onLinkClick,x=s.onMouseOver,S=s.onMouseOut,M=s.onMouseEnter,I=s.onMouseLeave,O=s.onExpandEnter,E=s.onExpandAfterEnter,L=s.onExpandBeforeLeave,_=s.onExpandAfterLeave;return t.watch((function(){return d.value}),(function(){d.value&&(p.value=!0)}),{immediate:!0}),{isCollapsed:i,linkComponentName:c,active:d,exactActive:m,isMobileItem:w,mobileItemStyle:r,mobileItemDropdownStyle:l,mobileItemBackgroundStyle:a,show:p,hover:v,isFirstLevel:f,isHidden:h,hasChild:b,linkClass:k,linkAttrs:C,itemClass:y,onLinkClick:B,onMouseOver:x,onMouseOut:S,onMouseEnter:M,onMouseLeave:I,onExpandEnter:O,onExpandAfterEnter:E,onExpandBeforeLeave:L,onExpandAfterLeave:_}}},w={key:0},B={class:"vsm--dropdown"};y.render=function(e,n,o,i,r,l){var a=t.resolveComponent("sidebar-menu-icon"),u=t.resolveComponent("sidebar-menu-badge"),c=t.resolveComponent("sidebar-menu-item");return o.item.component&&!i.isHidden?(t.openBlock(),t.createBlock("li",w,[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.item.component),o.item.props,null,16))])):o.item.header&&!i.isHidden?(t.openBlock(),t.createBlock("li",t.mergeProps({key:1,class:["vsm--header",o.item.class]},o.item.attributes),t.toDisplayString(o.item.header),17)):i.isHidden?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createBlock("li",t.mergeProps({key:2,class:i.itemClass,onMouseover:n[1]||(n[1]=function(){return i.onMouseOver.apply(i,arguments)}),onMouseout:n[2]||(n[2]=function(){return i.onMouseOut.apply(i,arguments)})},t.toHandlers(i.isCollapsed&&i.isFirstLevel?{mouseenter:i.onMouseEnter,mouseleave:i.onMouseLeave}:{})),[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.linkComponentName?i.linkComponentName:"SidebarMenuLink"),t.mergeProps({item:o.item,class:i.linkClass},i.linkAttrs,{onClick:i.onLinkClick}),{default:t.withCtx((function(){return[i.isCollapsed&&i.isFirstLevel?(t.openBlock(),t.createBlock(t.Transition,{key:0,name:"slide-animation"},{default:t.withCtx((function(){return[i.hover?(t.openBlock(),t.createBlock("div",{key:0,class:"vsm--mobile-bg",style:i.mobileItemBackgroundStyle},null,4)):t.createCommentVNode("v-if",!0)]})),_:1})):t.createCommentVNode("v-if",!0),o.item.icon?(t.openBlock(),t.createBlock(a,{key:1,icon:o.item.icon},null,8,["icon"])):t.createCommentVNode("v-if",!0),t.createVNode("div",{class:["vsm--title",i.isCollapsed&&i.isFirstLevel&&!i.isMobileItem&&"vsm--title_hidden"],style:i.isMobileItem&&i.mobileItemStyle},[t.createVNode("span",null,t.toDisplayString(o.item.title),1),o.item.badge?(t.openBlock(),t.createBlock(u,{key:0,badge:o.item.badge},null,8,["badge"])):t.createCommentVNode("v-if",!0),i.hasChild?(t.openBlock(),t.createBlock("div",{key:1,class:["vsm--arrow",{"vsm--arrow_open":i.show}]},[t.renderSlot(e.$slots,"dropdown-icon",{isOpen:i.show})],2)):t.createCommentVNode("v-if",!0)],6)]})),_:1},16,["item","class","onClick"])),i.hasChild?(t.openBlock(),t.createBlock(t.Transition,{key:0,appear:i.isMobileItem,name:"expand",onEnter:i.onExpandEnter,onAfterEnter:i.onExpandAfterEnter,onBeforeLeave:i.onExpandBeforeLeave,onAfterLeave:i.onExpandAfterLeave},{default:t.withCtx((function(){return[i.show?(t.openBlock(),t.createBlock("div",{key:0,class:["vsm--child",i.isMobileItem&&"vsm--child_mobile"],style:i.isMobileItem&&i.mobileItemDropdownStyle},[t.createVNode("ul",B,[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(o.item.child,(function(n,i){return t.openBlock(),t.createBlock(c,{key:i,item:n,level:o.level+1},{"dropdown-icon":t.withCtx((function(n){var o=n.isOpen;return[t.renderSlot(e.$slots,"dropdown-icon",{isOpen:o})]})),_:2},1032,["item","level"])})),128))])],6)):t.createCommentVNode("v-if",!0)]})),_:1},8,["appear","onEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])):t.createCommentVNode("v-if",!0)],16))},y.__file="src/components/SidebarMenuItem.vue";var x={name:"SidebarMenuScroll",setup:function(){var e=u(t.inject("vsm-props")).isCollapsed,n=t.ref(null),o=t.ref(null),i=t.ref(null),r=t.ref(0),l=t.ref(0),a=0,c=!1,s=t.computed((function(){return{height:"".concat(l.value,"%"),transform:"translateY(".concat(r.value,"%)")}})),d=function(){t.nextTick((function(){v()}))};t.provide("emitScrollUpdate",d),t.onMounted((function(){d(),window.addEventListener("resize",d)})),t.onUnmounted((function(){window.removeEventListener("resize",d)})),t.watch((function(){return e.value}),(function(){d()}));var m=function(e){if(c){var t=e.clientY-o.value.getBoundingClientRect().y,n=i.value.offsetHeight-a;f(t-n)}},p=function e(t){c=!1,a=0,window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",e)},v=function(){var e=100*n.value.clientHeight/n.value.scrollHeight;l.value=e<100?e:0,r.value=100*n.value.scrollTop/n.value.clientHeight},f=function(e){var t=100*e/o.value.offsetHeight;n.value.scrollTop=t*n.value.scrollHeight/100};return{scrollRef:n,scrollBarRef:o,scrollThumbRef:i,thumbStyle:s,onScroll:function(){requestAnimationFrame(d)},onClick:function(e){var t=Math.abs(o.value.getBoundingClientRect().y-e.clientY),n=i.value.offsetHeight/2;f(t-n)},onMouseDown:function(e){e.stopImmediatePropagation(),c=!0,window.addEventListener("mousemove",m),window.addEventListener("mouseup",p),a=i.value.offsetHeight-(e.clientY-i.value.getBoundingClientRect().y)}}}},S={class:"vsm--scroll-wrapper"},M={class:"vsm--scroll-overflow"};x.render=function(e,n,o,i,r,l){return t.openBlock(),t.createBlock("div",S,[t.createVNode("div",M,[t.createVNode("div",{ref:"scrollRef",class:"vsm--scroll",onScroll:n[1]||(n[1]=function(){return i.onScroll.apply(i,arguments)})},[t.renderSlot(e.$slots,"default")],544),t.createVNode("div",{ref:"scrollBarRef",class:"vsm--scroll-bar",onMousedown:n[3]||(n[3]=function(){return i.onClick.apply(i,arguments)})},[t.createVNode("div",{ref:"scrollThumbRef",class:"vsm--scroll-thumb",style:i.thumbStyle,onMousedown:n[2]||(n[2]=function(){return i.onMouseDown.apply(i,arguments)})},null,36)],544)])])},x.__file="src/components/SidebarMenuScroll.vue";var I={name:"SidebarMenu",components:{SidebarMenuItem:y,SidebarMenuScroll:x},props:{menu:{type:Array,required:!0},collapsed:{type:Boolean,default:!1},width:{type:String,default:"290px"},widthCollapsed:{type:String,default:"65px"},showChild:{type:Boolean,default:!1},theme:{type:String,default:""},showOneChild:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},relative:{type:Boolean,default:!1},hideToggle:{type:Boolean,default:!1},disableHover:{type:Boolean,default:!1},linkComponentName:{type:String,default:void 0}},emits:{"item-click":function(e,t){return!(!e||!t)},"update:collapsed":function(e){return!("boolean"!=typeof e)}},setup:function(e,n){t.provide("vsm-props",e);var o=u(e,n),i=o.sidebarMenuRef,r=o.isCollapsed,l=o.sidebarWidth,a=o.sidebarClass,c=o.onToggleClick,s=o.onItemClick,d=o.onRouteChange,m=o.unsetMobileItem;t.provide("emitItemClick",s),t.provide("emitScrollUpdate"),t.provide("onRouteChange",d);var p=t.toRefs(e).collapsed;return r.value=p.value,t.watch((function(){return e.collapsed}),(function(e){m(),r.value=e})),t.getCurrentInstance().appContext.config.globalProperties.$router||(t.onMounted((function(){window.addEventListener("hashchange",d)})),t.onUnmounted((function(){window.removeEventListener("hashchange",d)}))),{sidebarMenuRef:i,isCollapsed:r,sidebarWidth:l,sidebarClass:a,onToggleClick:c,onItemClick:s,onRouteChange:d}}},O=t.createVNode("span",{class:"vsm--arrow_default"},null,-1),E=t.createVNode("span",{class:"vsm--toggle-btn_default"},null,-1);I.render=function(e,n,o,i,r,l){var a=t.resolveComponent("sidebar-menu-item"),u=t.resolveComponent("sidebar-menu-scroll");return t.openBlock(),t.createBlock("div",{ref:"sidebarMenuRef",class:["v-sidebar-menu",i.sidebarClass],style:{"max-width":i.sidebarWidth}},[t.renderSlot(e.$slots,"header"),t.createVNode(u,null,{default:t.withCtx((function(){return[t.createVNode("ul",{class:"vsm--menu",style:{width:i.sidebarWidth,position:"static !important"}},[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(o.menu,(function(n,o){return t.openBlock(),t.createBlock(a,{key:o,item:n},{"dropdown-icon":t.withCtx((function(n){var o=n.isOpen;return[t.renderSlot(e.$slots,"dropdown-icon",{isOpen:o},(function(){return[O]}))]})),_:2},1032,["item"])})),128))],4)]})),_:1}),t.renderSlot(e.$slots,"footer"),o.hideToggle?t.createCommentVNode("v-if",!0):(t.openBlock(),t.createBlock("button",{key:0,class:"vsm--toggle-btn",onClick:n[1]||(n[1]=function(){return i.onToggleClick.apply(i,arguments)})},[t.renderSlot(e.$slots,"toggle-icon",{},(function(){return[E]}))]))],6)},I.__file="src/components/SidebarMenu.vue";var L={install:function(e){e.component("SidebarMenu",I)}};return e.SidebarMenu=I,e.default=L,Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue);
//# sourceMappingURL=vue-sidebar-menu.min.js.map
